<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.web.WebView?>

<StackPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.detonomics.budgettuner.gui.BudgetDetailsController">

    <stylesheets>
        <URL value="@styles.css" />
    </stylesheets>

    <BorderPane>
        <top>
            <BorderPane styleClass="details-topbar">
                <left>
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <children>
                            <Button fx:id="menuButton" mnemonicParsing="false" onAction="#onMenuButtonClick" styleClass="menu-button" text="☰" />
                            <Label text="Budget Tuner" styleClass="app-name" />
                        </children>
                    </HBox>
                </left>
                <center>
                    <Label fx:id="titleLabel" text="Προϋπολογισμός" styleClass="details-title">
                        <font>
                            <Font name="Segoe UI Bold" size="28.0" />
                        </font>
                    </Label>
                </center>
                <padding>
                    <Insets bottom="14.0" left="14.0" right="18.0" top="14.0" />
                </padding>
            </BorderPane>
        </top>

        <center>
            <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="details-scroll">
                <content>
                    <VBox fx:id="contentBox" alignment="TOP_CENTER" spacing="22.0">
                        <padding>
                            <Insets bottom="30.0" left="24.0" right="24.0" top="10.0" />
                        </padding>

                        <HBox spacing="18.0" VBox.vgrow="NEVER" styleClass="cards-row">
                            <children>
                                <VBox spacing="8.0" styleClass="card metric-card" HBox.hgrow="ALWAYS">
                                    <children>
                                        <Label text="Σύνολο Εσόδων" styleClass="metric-label" />
                                        <Label fx:id="revenuesValue" text="-" styleClass="metric-value" />
                                    </children>
                                    <padding>
                                        <Insets bottom="16.0" left="16.0" right="16.0" top="16.0" />
                                    </padding>
                                </VBox>

                                <VBox spacing="8.0" styleClass="card metric-card" HBox.hgrow="ALWAYS">
                                    <children>
                                        <Label text="Σύνολο Εξόδων" styleClass="metric-label" />
                                        <Label fx:id="expensesValue" text="-" styleClass="metric-value" />
                                    </children>
                                    <padding>
                                        <Insets bottom="16.0" left="16.0" right="16.0" top="16.0" />
                                    </padding>
                                </VBox>

                                <VBox spacing="8.0" styleClass="card metric-card" HBox.hgrow="ALWAYS">
                                    <children>
                                        <Label text="Αποτέλεσμα Κρατικού Προϋπολογισμού" wrapText="true" styleClass="metric-label" />
                                        <Label fx:id="resultValue" text="-" styleClass="metric-value" />
                                    </children>
                                    <padding>
                                        <Insets bottom="16.0" left="16.0" right="16.0" top="16.0" />
                                    </padding>
                                </VBox>
                            </children>
                        </HBox>

                        <HBox spacing="60.0" alignment="CENTER">
                            <children>
                                <VBox spacing="10.0" styleClass="card chart-card" HBox.hgrow="ALWAYS" maxWidth="720.0">
                                    <children>
                                        <Label text="Πορεία Εσόδων" styleClass="section-title" />
                                        <BarChart fx:id="revenueChart" prefHeight="520.0" prefWidth="720.0" legendVisible="false">
                                            <xAxis><CategoryAxis label="Κατηγορία" /></xAxis>
                                            <yAxis><NumberAxis label="Ποσό" /></yAxis>
                                        </BarChart>
                                    </children>
                                    <padding>
                                        <Insets bottom="16.0" left="16.0" right="16.0" top="16.0" />
                                    </padding>
                                </VBox>

                                <VBox spacing="10.0" styleClass="card chart-card" HBox.hgrow="ALWAYS" maxWidth="720.0">
                                    <children>
                                        <Label text="Πορεία Εξόδων" styleClass="section-title" />
                                        <BarChart fx:id="expenseChart" prefHeight="520.0" prefWidth="720.0" legendVisible="false">
                                            <xAxis><CategoryAxis label="Κατηγορία" /></xAxis>
                                            <yAxis><NumberAxis label="Ποσό" /></yAxis>
                                        </BarChart>
                                    </children>
                                    <padding>
                                        <Insets bottom="16.0" left="16.0" right="16.0" top="16.0" />
                                    </padding>
                                </VBox>
                            </children>
                        </HBox>

                        <HBox spacing="18.0">
                            <children>
                                <VBox spacing="10.0" styleClass="card" HBox.hgrow="ALWAYS">
                                    <children>
                                        <Label text="Μεγαλύτερες Πηγές Εσόδων" styleClass="list-section-title" />
                                        <VBox fx:id="topRevenuesBox" spacing="8.0" />
                                        <Button mnemonicParsing="false" styleClass="btn-blue" text="Ανάλυση Εσόδων" onAction="#onRevenueAnalysisClick" />
                                    </children>
                                    <padding>
                                        <Insets bottom="16.0" left="16.0" right="16.0" top="16.0" />
                                    </padding>
                                </VBox>

                                <VBox spacing="10.0" styleClass="card" HBox.hgrow="ALWAYS">
                                    <children>
                                        <Label text="Μεγαλύτερες Κατηγορίες Εξόδων" styleClass="list-section-title" />
                                        <VBox fx:id="topExpensesBox" spacing="8.0" />
                                        <Button mnemonicParsing="false" styleClass="btn-blue" text="Ανάλυση Εξόδων" onAction="#onExpenseAnalysisClick" />
                                    </children>
                                    <padding>
                                        <Insets bottom="16.0" left="16.0" right="16.0" top="16.0" />
                                    </padding>
                                </VBox>
                            </children>
                        </HBox>

                        <VBox spacing="10.0" styleClass="card">
                            <children>
                                <Label text="Κρατικοί Φορείς με την Μεγαλύτερη Δημοσιονομική Επιβάρυνση" styleClass="list-section-title" />
                                <VBox fx:id="topMinistriesBox" spacing="8.0" />
                                <Button mnemonicParsing="false" styleClass="btn-blue" text="Ανάλυση Υπουργείων" onAction="#onMinistryAnalysisClick" />
                            </children>
                            <padding>
                                <Insets bottom="16.0" left="16.0" right="16.0" top="16.0" />
                            </padding>
                        </VBox>
                    </VBox>
                </content>
            </ScrollPane>
        </center>
    </BorderPane>

    <Pane fx:id="menuOverlay" onMouseClicked="#onMenuOverlayClick" styleClass="menu-overlay" visible="false" />

    <VBox fx:id="menuDrawer" styleClass="menu-drawer" translateX="-320.0" maxWidth="320.0" prefWidth="320.0" visible="false" StackPane.alignment="CENTER_LEFT">
        <children>
            <Label text="Μενού" styleClass="menu-title" />

            <Button mnemonicParsing="false" onAction="#onMenuSelectBudgetClick" styleClass="menu-item" text="Επιλογή Προϋπολογισμού" />
            <Button mnemonicParsing="false" styleClass="menu-item" text="Σύγκριση Προϋπολογισμών" />
            <Button mnemonicParsing="false" onAction="#onMenuExitClick" styleClass="menu-item" text="Έξοδος" />
        </children>
        <padding>
            <Insets bottom="20.0" left="16.0" right="16.0" top="20.0" />
        </padding>
        <spacing>12.0</spacing>
    </VBox>
</StackPane>

